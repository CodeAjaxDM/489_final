<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Customers</title>
    <style>
      .form-group {
        margin:10px;
      }
    </style>
</head>
<body>
  <%- include("header") %>
<section id="customer-form">
<div class="container-lg">
  <form method="post" action="/survey/create" onsubmit="return addcustomer()">
    <div class="form-group">
      <label for="customerid">Customer ID</label>
      <input required name ="customerid" type="text" class="form-control" id="customerid" placeholder="12345">
    </div>
    <div class="form-group">
      <label for="customerFirstName">Customer First Name</label>
      <input required name ="customerFirstName" type="text" class="form-control" id="customerFirstName" placeholder="Jane">
    </div>
    <div class="form-group">
      <label for="customerLastName">Customer Last Name</label>
      <input required name ="customerLastName" type="text" class="form-control" id="customerLastName" placeholder="Doe">
    </div>
    <div class="form-group">
      <label for="gender">Gender</label>
      <select name ="gender" class="form-control" id="gender">
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
        <option value="NA">Prefer Not To Answer</option>
      </select>
    </div>
    <div class="form-group">
      <label for="exampleFormControlInput1">Age</label>
      <input required name ="age" type="text" class="form-control" id="age" placeholder="22">
    </div>
    <div class="form-group">
      <label for="location">Franchise Location</label>
      <input required name ="location" type="text" class="form-control" id="location" placeholder="123 west ave Pullman wa 99163">
    </div>
    <div class="form-group">
      <label for="drinksOrdered">Drinks Ordered</label>
      <input required name ="drinksOrdered" type="text" class="form-control" id="drinksOrdered" placeholder="2">
    </div>
    <div class="form-group">
      <label for="amountSpent">Amount Spent</label>
      <input required name ="amountSpent" type="text" class="form-control" id="amountSpent" placeholder="12.35">
    </div>
    <div class="form-group">
      <label for="member">Are they a member?</label>
      <select name ="member" class="form-control" id="member">
        <option value="Yes">Yes</option>
        <option value="No">No</option>
      </select>
    </div>
    <div class="form-group">
      <input type="submit" value="Add Customer" class="btn btn-primary"></button>
    </div>
  </form>
  <div id="alertmsg">
    <%- include("customermsg")%>
  </div>

</div>
</section>

<section id="customer-details">
  <div class="container-lg">
    <div class="p-lg-2 text-center bg-light">
      <h1>Customers</h1>
    </div>  
    <%if (!locals.customers || customers.length == 0) { %>
      <p> No customers to list! </p>
      <% }else{ %>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Customer ID</th>
          <th scope="col">Customer First Name</th>
          <th scope="col">Customer Last Name</th>
          <th scope="col">Gender</th>
          <th scope="col">Age</th>
          <th scope="col">Franchise Location</th>
          <th scope="col">Drinks Ordered</th>
          <th scope="col">Amount Spent</th>
          <th scope="col">Is a Member?</th>
        </tr>
      </thead>
      <tbody>
        <% for (customer of customers) { %>
          <tr>
            <td scope="row"><a href=<%= "/survey/"+customer.customerid %>><%= customer.customerid %></a></td>
            <td><%= customer.customerFirstName %></td>
            <td><%= customer.customerLastName %></td>
            <td><%= customer.gender %></td>
            <td><%= customer.age %></td>
            <td><%= customer.location %></td>
            <td><%= customer.drinksOrdered %></td>
            <td><%= customer.amountSpent %></td>
            <td><%= customer.member %></td>
          </tr>
        <% } %>
        </tr>
      </tbody>
    </table>
    <% } %>
  </div>
</section>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="/js/index.js"></script>
</body>
</html>